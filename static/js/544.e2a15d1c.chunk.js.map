{"version":3,"file":"static/js/544.e2a15d1c.chunk.js","mappings":"iPA+JA,UA5Ea,WACX,IAAMA,GAAQC,EAAAA,EAAAA,KACd,GAAoCC,EAAAA,EAAAA,YAAWC,EAAAA,GAA/C,eAAOC,EAAP,KAAmBC,EAAnB,KAEA,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KAqCA,OAnCAC,EAAAA,EAAAA,YAAU,WAAM,wCACd,+FACQC,EAAoB,CACxBC,MAAOC,aAAaC,QAAQ,UAFhC,SAIyBC,MAAM,iCAAkC,CAC7DC,OAAQ,OACRC,KAAMC,KAAKC,UAAUR,GACrBS,QAAS,CACP,eAAgB,sBARtB,cAIQC,EAJR,gBAYwBA,EAASC,OAZjC,UAYQC,EAZR,OAc0B,MAApBF,EAASG,OAdf,qCAiBQ,WAAYD,EAAQ,KACtBV,aAAaY,WAAW,SACxBZ,aAAaY,WAAW,YACxBnB,GAAc,IApBpB,2BAyBEG,EAASc,EAAQG,WAzBnB,6CADc,sBA6Bd,IAAMC,EAAYC,aAAY,YA7Bf,WAAD,wBA8BZC,KACC,KACH,OAAO,kBAAMC,cAAcH,MAC1B,CAACnB,EAAMuB,SAEL1B,GAKH,UAAC,IAAD,CACE2B,MAAO,QACPC,eAAgB,SAChBC,WAAY,SACZC,QAAS,EACTC,UAAW,QACXC,SAAU,OACVC,GAAI,EACJC,GAAI,CAAEC,WAAY,CAAEC,GAAI,MAAOC,GAAI,OAAQC,GAAI,QAASC,GAAI,UAR9D,UAUGpC,EAAMqC,KAAI,SAACC,EAAMC,GAChB,OAAO,SAAC,IAAD,CAAqBD,KAAMA,GAAbC,OAEvB,SAAC,IAAD,CAAYC,QAAQ,IAAIT,GAAI,CAAEU,SAAU,QAAUC,MAAM,UAAxD,4BAIA,0BACE,gBAAKlB,MAAO,IAAKmB,OAAQ,GAAzB,UACE,iBACEnB,MAAM,OACNmB,OAAQ,GACRC,KAAMnD,EAAMoD,QAAQC,WAAWC,kBA1BhC,SAAC,KAAD,CAAUC,GAAG","sources":["pages/Home/Home.jsx"],"sourcesContent":["import { useTheme } from \"@mui/material/styles\";\nimport { Stack, Typography } from \"@mui/material\";\nimport { Content } from \"../../components/Content/Content\";\nimport { useContext, useState, useEffect } from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport GlobalState from \"../../contexts/GlobalStates\";\n\n// const sampleData = [\n//   {\n//     uuid: \"1aklsdf8asdfhj\",\n//     name: \"Dr. Stephen Strange\",\n//     username: \"drstrange\",\n//     date: \"10/20/16\",\n//     topic: \"Marvel\",\n//     content:\n//       \"It's not Mr. Strange, not Master Strange. It's Doctor Strange! When I became a doctor, I swore to do no harm.\",\n//     img: null,\n//     up: 14000605,\n//     down: 0,\n//     parentId: \"\",\n//   },\n//   {\n//     uuid: \"0756sd8asdsdfhj\",\n//     name: \"Tony Stark\",\n//     username: \"ironman\",\n//     date: \"05/02/08\",\n//     topic: \"Marvel\",\n//     content: \"I. am. IronMan.\",\n//     img: null,\n//     up: 3000,\n//     down: 0,\n//     parentId: \"\",\n//   },\n//   {\n//     uuid: \"agg6jgsgdsbsd2gj\",\n//     name: \"Steve Rogers\",\n//     username: \"captainamerica\",\n//     date: \"07/19/11\",\n//     topic: \"Marvel\",\n//     content: \"Avengers... Assemble\",\n//     img: null,\n//     up: 75,\n//     down: 0,\n//     parentId: \"\",\n//   },\n//   {\n//     uuid: \"6zbkp4s4a43sghgeha\",\n//     name: \"Thor\",\n//     username: \"godofthunder\",\n//     date: \"11/11/11\",\n//     topic: \"Marvel\",\n//     content: \"Stormbreaker\",\n//     img: \"https://i0.wp.com/thenewsfetcher.com/wp-content/uploads/2020/01/45dc07a7fec3414781000b10577e539e.jpeg\",\n//     up: 1000,\n//     down: 0,\n//     parentId: \"\",\n//   },\n//   {\n//     uuid: \"b04uwqual3s2f0j\",\n//     name: \"Hulk\",\n//     username: \"greenguy\",\n//     date: \"07/19/11\",\n//     topic: \"Marvel\",\n//     content: \"Strongest Avenger\",\n//     img: null,\n//     up: 80,\n//     down: 0,\n//     parentId: \"\",\n//   },\n//   {\n//     uuid: \"erxok768yi730qpfsda\",\n//     name: \"Jim\",\n//     username: \"jimmy\",\n//     date: \"07/11/12\",\n//     topic: \"Food\",\n//     content: \"Some Paella\",\n//     img: \"https://mui.com/static/images/cards/paella.jpg\",\n//     up: 800,\n//     down: 0,\n//     parentId: \"\",\n//   },\n// ];\n\nconst Home = () => {\n  const theme = useTheme();\n  const [isSignedIn, setIsSignedIn] = useContext(GlobalState);\n\n  const [posts, setPosts] = useState([]);\n\n  useEffect(() => {\n    async function getPosts() {\n      const timelineRecipient = {\n        email: localStorage.getItem(\"email\"),\n      };\n      const response = await fetch(`http://localhost:5000/timeline`, {\n        method: \"POST\",\n        body: JSON.stringify(timelineRecipient),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      const records = await response.json();\n\n      if (response.status !== 200) {\n        const message = `An error oc`;\n        // window.alert(message);\n        if (\"logout\" in records[0]) {\n          localStorage.removeItem(\"email\");\n          localStorage.removeItem(\"username\");\n          setIsSignedIn(false);\n        }\n        return;\n      }\n      // console.log(records)\n      setPosts(records.reverse());\n    }\n\n    const postTimer = setInterval(() => {\n      getPosts();\n    }, 650);\n    return () => clearInterval(postTimer);\n  }, [posts.length]);\n\n  if (!isSignedIn) {\n    return <Navigate to=\"/\" />;\n  }\n\n  return (\n    <Stack\n      width={\"100vw\"}\n      justifyContent={\"center\"}\n      alignItems={\"center\"}\n      spacing={2}\n      minHeight={\"100vh\"}\n      overflow={\"auto\"}\n      mt={2}\n      sx={{ marginLeft: { xs: \"0px\", sm: \"75px\", md: \"200px\", lg: \"200px\" } }}\n    >\n      {posts.map((data, index) => {\n        return <Content key={index} data={data} />;\n      })}\n      <Typography variant=\"p\" sx={{ fontSize: \"30px\" }} color=\"primary\">\n        End of Posts!\n      </Typography>\n\n      <div>\n        <svg width={100} height={50}>\n          <rect\n            width=\"100%\"\n            height={50}\n            fill={theme.palette.background.default}\n          ></rect>\n        </svg>\n      </div>\n    </Stack>\n  );\n};\n\nexport default Home;\n"],"names":["theme","useTheme","useContext","GlobalState","isSignedIn","setIsSignedIn","useState","posts","setPosts","useEffect","timelineRecipient","email","localStorage","getItem","fetch","method","body","JSON","stringify","headers","response","json","records","status","removeItem","reverse","postTimer","setInterval","getPosts","clearInterval","length","width","justifyContent","alignItems","spacing","minHeight","overflow","mt","sx","marginLeft","xs","sm","md","lg","map","data","index","variant","fontSize","color","height","fill","palette","background","default","to"],"sourceRoot":""}