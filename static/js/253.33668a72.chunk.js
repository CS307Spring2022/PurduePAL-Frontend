"use strict";(self.webpackChunkpurduepal_fe=self.webpackChunkpurduepal_fe||[]).push([[253],{9253:function(e,t,n){n.r(t);var c=n(5861),i=n(9439),o=n(7757),a=n.n(o),s=n(2791),l=n(6823),r=n(3721),u=n(5818),p=n(890),d=n(1131),h=n(3767),m=n(6151),x=n(5646),g=n(4070),f=n(6871),S=n(4010),Z=n(5489),b=n(184);t.default=function(){var e=(0,f.s0)(),t=(0,s.useContext)(S.Z),n=t.isSignedIn,o=t.setIsSignedIn,j=t.userTheme,k=t.setUserTheme,v=(0,s.useState)(!1),C=(0,i.Z)(v,2),I=C[0],w=C[1],y=function(){localStorage.removeItem("email"),localStorage.removeItem("username"),o(!1),e("/")},T=(0,s.useState)(!1),A=(0,i.Z)(T,2),D=A[0],P=A[1],H=(0,s.useState)("public"===localStorage.getItem("public")),O=(0,i.Z)(H,2),_=O[0],J=O[1],N=(0,s.useState)(!1),E=(0,i.Z)(N,2),F=E[0],L=E[1];(0,s.useEffect)((function(){localStorage.setItem("userTheme",j)}),[j]);var M,U=function(e,t){"clickaway"!==t&&(P(!1),L(!1))};return n?(0,b.jsx)(h.Z,{justifyContent:"start",alignItems:"center",width:"100%",mt:3,ml:{xs:0,sm:"110px",md:"240px",lg:"240px"},height:"100%",minHeight:"100vh",children:(0,b.jsxs)(l.Z,{expanded:"panel1"===I,onChange:(M="panel1",function(e,t){w(!!t&&M)}),sx:{width:"95%"},children:[(0,b.jsx)(u.Z,{expandIcon:(0,b.jsx)(d.Z,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:(0,b.jsx)(p.Z,{sx:{width:"33%",flexShrink:0},children:"Account Settings"})}),(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(m.Z,{onClick:y,children:"Logout"}),(0,b.jsx)(m.Z,{onClick:function(){function e(){return(e=(0,c.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("email"),localStorage.setItem("email",""),n={email:t},e.next=5,fetch("".concat(Z.H,"/delete_user"),{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 5:y();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}P(!0),function(){e.apply(this,arguments)}()},children:"Delete Account and Data"}),(0,b.jsx)(x.Z,{open:D,autoHideDuration:6e3,onClose:U,children:(0,b.jsx)(g.Z,{onClose:U,severity:"success",sx:{width:"100%"},children:"Account Deleted :("})})]}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(m.Z,{onClick:function(){var e={email:localStorage.getItem("email"),public:"public"===localStorage.getItem("public")};function t(){return(t=(0,c.Z)(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L(!0),t.next=3,fetch("".concat(Z.H,"/updatePublic"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 3:n=localStorage.getItem("public"),localStorage.setItem("public","public"===n?"private":"public"),J("public"===localStorage.getItem("public"));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},children:["Make Account ",_?"Private":"Public"]}),(0,b.jsx)(x.Z,{open:F,autoHideDuration:6e3,onClose:U,children:(0,b.jsx)(g.Z,{onClose:U,severity:"success",sx:{width:"100%"},children:"public"!==localStorage.getItem("public")?"Account is Private now":"Account is Public now"})}),(0,b.jsxs)(m.Z,{onClick:function(){k("dark"===j?"light":"dark")},children:["Switch To ","dark"===j?"light":"dark"," Theme"]}),(0,b.jsx)(x.Z,{open:D,autoHideDuration:6e3,onClose:U,children:(0,b.jsx)(g.Z,{onClose:U,severity:"success",sx:{width:"100%"},children:"Account Deleted :("})})]})]})}):(0,b.jsx)(f.Fg,{to:"/"})}}}]);
//# sourceMappingURL=253.33668a72.chunk.js.map