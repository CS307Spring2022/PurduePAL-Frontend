"use strict";(self.webpackChunkpurduepal_fe=self.webpackChunkpurduepal_fe||[]).push([[342],{9342:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var r=n(5861),a=n(9439),o=n(7757),s=n.n(o),i=n(3967),l=n(3767),c=n(890),u=n(829),d=n(6151),p=n(7621),m=n(9585),h=n(2169),f=n(9504),x=n(2363),g=n(3044),j=n(501),v=n(184),y=function(e){var t=e.data,n=(0,i.Z)(),r=new Intl.DateTimeFormat("en",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"});return(0,v.jsxs)(p.Z,{sx:{padding:"10px",width:"98vw",maxWidth:{sm:500,md:600,lg:900,xl:1200},maxHeight:"150vh",borderRadius:"15px",backgroundColor:"dark"===n.palette.mode?"#121212":"#CFB991"},children:[(0,v.jsx)(m.Z,{avatar:(0,v.jsx)(j.rU,{to:"/profile?user="+t.user.username,children:(0,v.jsx)(g.Z,{sx:{bgcolor:n.palette.primary.main},"aria-label":t.user.firstname+" "+t.user.lastName})}),action:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.Z,{variant:"body1",fontSize:15,component:"p",color:"dark"===n.palette.mode?"#fff":"#000",children:t.topic}),(0,v.jsx)(c.Z,{variant:"body1",fontSize:12,component:"p",color:"dark"===n.palette.mode?"#c4c4c4":"#555960",children:r.format(new Date(t.timestamp))})]}),title:t.user.firstName+" "+t.user.lastName,subheader:"@".concat(t.user.username)}),null!==t.parentID?(0,v.jsxs)(d.Z,{color:"primary",sx:{textTransform:"none"},href:"/purduepal-fe/postThread?postId="+t.parentID,children:["Replying to @",t.parentUser]}):null,t.img?(0,v.jsx)(h.Z,{component:"img",image:t.img}):null,(0,v.jsx)(f.Z,{children:(0,v.jsx)(c.Z,{variant:"body1",sx:{fontWeight:"bold",fontSize:32},color:"text.secondary",children:function(e){try{new URL(e)}catch(t){return!1}return!0}(t.content)?(0,v.jsx)("a",{href:t.content,children:t.content}):t.content})}),(0,v.jsx)(x.Z,{children:(0,v.jsx)(u.y,{up:null==t.likeCount?0:t.likeCount,down:null==t.dislikeCount?0:t.dislikeCount,uuid:t._id,initialReaction:t.reactionType,isSaved:t.isSaved})})]})},Z=n(4951),k=n(2791),b=n(6871),w=n(4010),I=function(){var e=(0,i.Z)(),t=(0,k.useContext)(w.Z),n=t.isSignedIn,o=(t.setIsSignedIn,t.userTheme,t.setUserTheme,(0,j.lr)()),u=(0,a.Z)(o,1)[0],d=(0,k.useState)({}),p=(0,a.Z)(d,2),m=p[0],h=p[1],f=(0,k.useState)([]),x=(0,a.Z)(f,2),g=x[0],I=x[1];return(0,k.useEffect)((function(){function e(){return(e=(0,r.Z)(s().mark((function e(){var t,n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:localStorage.getItem("email"),postId:u.get("postId")},e.next=3,fetch("http://localhost:5000/postThread",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:if((n=e.sent).ok){e.next=8;break}return"An error oc",console.log(n),e.abrupt("return");case 8:return e.next=10,n.json();case 10:r=e.sent,console.log(r),h(r.parentPost),I(r.comments);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var t=setInterval((function(){!function(){e.apply(this,arguments)}()}),650);return function(){return clearInterval(t)}}),[g.length]),n?(console.log(u.get("postId")),localStorage.setItem("currentTopic",m.topic),(0,v.jsxs)(l.Z,{width:"100vw",justifyContent:"center",alignItems:"center",spacing:2,minHeight:"100vh",overflow:"auto",mt:2,sx:{marginLeft:{xs:"0px",sm:"75px",md:"200px",lg:"200px"}},children:[0===Object.keys(m).length?null:(0,v.jsx)(y,{data:m},0),g.map((function(e,t){return(0,v.jsx)(Z.V,{data:e},t+1)})),(0,v.jsx)(c.Z,{variant:"p",sx:{fontSize:"30px"},color:"primary",children:"End of Comments!"}),(0,v.jsx)("div",{children:(0,v.jsx)("svg",{width:100,height:50,children:(0,v.jsx)("rect",{width:"100%",height:50,fill:e.palette.background.default})})})]})):(0,v.jsx)(b.Fg,{to:"/"})}}}]);
//# sourceMappingURL=342.2c0fa856.chunk.js.map