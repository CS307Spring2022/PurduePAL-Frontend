"use strict";(self.webpackChunkpurduepal_fe=self.webpackChunkpurduepal_fe||[]).push([[253],{9253:function(e,t,n){n.r(t);var c=n(5861),o=n(9439),s=n(7757),a=n.n(s),i=n(2791),r=n(6823),l=n(3721),u=n(5818),d=n(890),h=n(1131),p=n(3767),x=n(6151),f=n(5646),m=n(4070),g=n(6871),Z=n(4010),j=n(5489),S=n(184);t.default=function(){var e,t=(0,g.s0)(),n=(0,i.useContext)(Z.Z),s=(0,o.Z)(n,2),y=s[0],C=s[1],k=(0,i.useState)(!1),v=(0,o.Z)(k,2),w=v[0],b=v[1],I=function(){localStorage.removeItem("email"),localStorage.removeItem("username"),C(!1),t("/")},D=(0,i.useState)(!1),A=(0,o.Z)(D,2),H=A[0],O=A[1],P=(0,i.useState)(localStorage.getItem("public")),T=(0,o.Z)(P,2),J=T[0],N=T[1],_=function(e,t){"clickaway"!==t&&O(!1)};return y?(0,S.jsx)(p.Z,{justifyContent:"start",alignItems:"center",width:"100%",mt:3,ml:{xs:0,sm:"110px",md:"240px",lg:"240px"},height:"100%",minHeight:"100vh",children:(0,S.jsxs)(r.Z,{expanded:"panel1"===w,onChange:(e="panel1",function(t,n){b(!!n&&e)}),sx:{width:"95%"},children:[(0,S.jsxs)(u.Z,{expandIcon:(0,S.jsx)(h.Z,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[(0,S.jsx)(d.Z,{sx:{width:"33%",flexShrink:0},children:"Account Settings"}),(0,S.jsx)(d.Z,{sx:{color:"text.secondary"},children:"Logout and Account Deletion"})]}),(0,S.jsxs)(l.Z,{children:[(0,S.jsx)(x.Z,{onClick:I,children:"Logout"}),(0,S.jsx)(x.Z,{onClick:function(){function e(){return(e=(0,c.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("email"),localStorage.setItem("email",""),n={email:t},console.log(JSON.stringify(n)),e.next=6,fetch("".concat(j.H,"/delete_user"),{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 6:I();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}O(!0),function(){e.apply(this,arguments)}()},children:"Delete Account and Data"}),(0,S.jsx)(f.Z,{open:H,autoHideDuration:6e3,onClose:_,children:(0,S.jsx)(m.Z,{onClose:_,severity:"success",sx:{width:"100%"},children:"Account Deleted :("})})]}),(0,S.jsxs)(l.Z,{children:[(0,S.jsxs)(x.Z,{onClick:function(){var e={email:localStorage.getItem("email"),public:J};function t(){return(t=(0,c.Z)(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(j.H,"/updatePublic"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 2:N(!J),localStorage.setItem("public",J);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},children:["Make Account ",J?"Private":"Public"]}),(0,S.jsx)(f.Z,{open:H,autoHideDuration:6e3,onClose:_,children:(0,S.jsx)(m.Z,{onClose:_,severity:"success",sx:{width:"100%"},children:"Account Deleted :("})})]})]})}):(0,S.jsx)(g.Fg,{to:"/"})}}}]);
//# sourceMappingURL=253.3ad894d7.chunk.js.map