"use strict";(self.webpackChunkpurduepal_fe=self.webpackChunkpurduepal_fe||[]).push([[253],{9253:function(e,t,n){n.r(t);var c=n(5861),o=n(9439),i=n(7757),l=n.n(i),a=n(2791),s=n(6823),r=n(3721),u=n(5818),p=n(890),h=n(1131),d=n(3767),g=n(6151),m=n(5646),f=n(4070),x=n(6871),S=n(4010),Z=n(5489),b=n(184);t.default=function(){var e=(0,x.s0)(),t=(0,a.useContext)(S.Z),n=t.isSignedIn,i=t.setIsSignedIn,j=t.userTheme,k=t.setUserTheme,v=(0,a.useState)(!1),I=(0,o.Z)(v,2),y=I[0],C=I[1],w=function(){localStorage.removeItem("email"),localStorage.removeItem("username"),i(!1),e("/")},T=(0,a.useState)(!1),P=(0,o.Z)(T,2),D=P[0],A=P[1],H=(0,a.useState)("public"===localStorage.getItem("public")),O=(0,o.Z)(H,2),J=O[0],N=O[1];console.log(J),console.log(J?"Public":"Private"),console.log(J);(0,a.useEffect)((function(){localStorage.setItem("userTheme",j)}),[j]);var _,E=function(e,t){"clickaway"!==t&&A(!1)};return n?(0,b.jsx)(d.Z,{justifyContent:"start",alignItems:"center",width:"100%",mt:3,ml:{xs:0,sm:"110px",md:"240px",lg:"240px"},height:"100%",minHeight:"100vh",children:(0,b.jsxs)(s.Z,{expanded:"panel1"===y,onChange:(_="panel1",function(e,t){C(!!t&&_)}),sx:{width:"95%"},children:[(0,b.jsx)(u.Z,{expandIcon:(0,b.jsx)(h.Z,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:(0,b.jsx)(p.Z,{sx:{width:"33%",flexShrink:0},children:"Account Settings"})}),(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(g.Z,{onClick:w,children:"Logout"}),(0,b.jsx)(g.Z,{onClick:function(){function e(){return(e=(0,c.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("email"),localStorage.setItem("email",""),n={email:t},console.log(JSON.stringify(n)),e.next=6,fetch("".concat(Z.H,"/delete_user"),{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 6:w();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}A(!0),function(){e.apply(this,arguments)}()},children:"Delete Account and Data"}),(0,b.jsx)(m.Z,{open:D,autoHideDuration:6e3,onClose:E,children:(0,b.jsx)(f.Z,{onClose:E,severity:"success",sx:{width:"100%"},children:"Account Deleted :("})})]}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(g.Z,{onClick:function(){var e={email:localStorage.getItem("email"),public:"public"===localStorage.getItem("public")};function t(){return(t=(0,c.Z)(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Z.H,"/updatePublic"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 2:n=localStorage.getItem("public"),localStorage.setItem("public","public"===n?"private":"public"),N("public"===localStorage.getItem("public"));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},children:["Make Account ",J?"Private":"Public"]}),(0,b.jsxs)(g.Z,{onClick:function(){k("dark"===j?"light":"dark")},children:["Switch To ","dark"===j?"light":"dark"," Theme"]}),(0,b.jsx)(m.Z,{open:D,autoHideDuration:6e3,onClose:E,children:(0,b.jsx)(f.Z,{onClose:E,severity:"success",sx:{width:"100%"},children:"Account Deleted :("})})]})]})}):(0,b.jsx)(x.Fg,{to:"/"})}}}]);
//# sourceMappingURL=253.dca89504.chunk.js.map