{"ast":null,"code":"import _asyncToGenerator from\"/Users/chintansawla/Documents/GitHub/purduepal-fe/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/chintansawla/Documents/GitHub/purduepal-fe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/chintansawla/Documents/GitHub/purduepal-fe/node_modules/@babel/runtime/regenerator/index.js\";import{useState}from\"react\";import Accordion from\"@mui/material/Accordion\";import AccordionDetails from\"@mui/material/AccordionDetails\";import AccordionSummary from\"@mui/material/AccordionSummary\";import Typography from\"@mui/material/Typography\";import ExpandMoreIcon from\"@mui/icons-material/ExpandMore\";import{Button,Stack,Snackbar,Alert}from\"@mui/material\";import{url}from\"../../ENV\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Settings=function Settings(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),expanded=_useState2[0],setExpanded=_useState2[1];var handleChange=function handleChange(panel){return function(event,isExpanded){setExpanded(isExpanded?panel:false);};};var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var handleClick=function handleClick(){setOpen(true);//request\nfunction onSubmit(){return _onSubmit.apply(this,arguments);}function _onSubmit(){_onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var email,editedPerson;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:email=localStorage.getItem(\"email\");localStorage.setItem(\"email\",\"\");editedPerson={email:email};console.log(JSON.stringify(editedPerson));_context.next=6;return fetch(\"\".concat(url,\"/delete_user\"),{method:\"POST\",body:JSON.stringify(editedPerson),headers:{\"Content-Type\":\"application/json\"}});case 6:case\"end\":return _context.stop();}}},_callee);}));return _onSubmit.apply(this,arguments);}onSubmit();};var handleClose=function handleClose(event,reason){if(reason===\"clickaway\"){return;}setOpen(false);};return/*#__PURE__*/_jsx(Stack,{justifyContent:\"start\",alignItems:\"center\",width:\"100%\",mt:3,ml:{xs:0,sm:\"110px\",md:\"240px\",lg:\"240px\"},height:\"100%\",minHeight:\"100vh\",children:/*#__PURE__*/_jsxs(Accordion,{expanded:expanded===\"panel1\",onChange:handleChange(\"panel1\"),sx:{width:\"95%\"},children:[/*#__PURE__*/_jsxs(AccordionSummary,{expandIcon:/*#__PURE__*/_jsx(ExpandMoreIcon,{}),\"aria-controls\":\"panel1bh-content\",id:\"panel1bh-header\",children:[/*#__PURE__*/_jsx(Typography,{sx:{width:\"33%\",flexShrink:0},children:\"Account Settings\"}),/*#__PURE__*/_jsx(Typography,{sx:{color:\"text.secondary\"},children:\"Delete your account and associated data\"})]}),/*#__PURE__*/_jsxs(AccordionDetails,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClick,children:\"Delete Account and Data\"}),/*#__PURE__*/_jsx(Snackbar,{open:open,autoHideDuration:6000,onClose:handleClose,children:/*#__PURE__*/_jsx(Alert,{onClose:handleClose,severity:\"success\",sx:{width:\"100%\"},children:\"Account Deleted :(\"})})]})]})});};","map":{"version":3,"sources":["/Users/chintansawla/Documents/GitHub/purduepal-fe/src/pages/Settings/Settings.jsx"],"names":["useState","Accordion","AccordionDetails","AccordionSummary","Typography","ExpandMoreIcon","Button","Stack","Snackbar","Alert","url","Settings","expanded","setExpanded","handleChange","panel","event","isExpanded","open","setOpen","handleClick","onSubmit","email","localStorage","getItem","setItem","editedPerson","console","log","JSON","stringify","fetch","method","body","headers","handleClose","reason","xs","sm","md","lg","width","flexShrink","color"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport Accordion from \"@mui/material/Accordion\";\nimport AccordionDetails from \"@mui/material/AccordionDetails\";\nimport AccordionSummary from \"@mui/material/AccordionSummary\";\nimport Typography from \"@mui/material/Typography\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport { Button, Stack, Snackbar, Alert } from \"@mui/material\";\nimport {url} from \"../../ENV\";\n\nexport const Settings = () => {\n  const [expanded, setExpanded] = useState(false);\n\n  const handleChange = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  const [open, setOpen] = useState(false);\n\n  const handleClick = () => {\n    setOpen(true);\n    //request\n\n    async function onSubmit() {\n      const email = localStorage.getItem(\"email\");\n      localStorage.setItem(\"email\",\"\");\n      const editedPerson = {\n        email: email,\n      };\n\n      console.log(JSON.stringify(editedPerson));\n\n      await fetch(`${url}/delete_user`, {\n        method: \"POST\",\n        body: JSON.stringify(editedPerson),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n    }\n    onSubmit();\n  };\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setOpen(false);\n  };\n\n  return (\n    <Stack\n      justifyContent={\"start\"}\n      alignItems={\"center\"}\n      width=\"100%\"\n      mt={3}\n      ml={{ xs: 0, sm: \"110px\", md: \"240px\", lg: \"240px\" }}\n      height=\"100%\"\n      minHeight=\"100vh\"\n    >\n      <Accordion\n        expanded={expanded === \"panel1\"}\n        onChange={handleChange(\"panel1\")}\n        sx={{ width: \"95%\" }}\n      >\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1bh-content\"\n          id=\"panel1bh-header\"\n        >\n          <Typography sx={{ width: \"33%\", flexShrink: 0 }}>\n            Account Settings\n          </Typography>\n          <Typography sx={{ color: \"text.secondary\" }}>\n            Delete your account and associated data\n          </Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Button onClick={handleClick}>Delete Account and Data</Button>\n          <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\n            <Alert\n              onClose={handleClose}\n              severity=\"success\"\n              sx={{ width: \"100%\" }}\n            >\n              {`Account Deleted :(`}\n            </Alert>\n          </Snackbar>\n        </AccordionDetails>\n      </Accordion>\n    </Stack>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}